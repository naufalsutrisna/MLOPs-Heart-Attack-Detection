# Use a lightweight Python base image
FROM python:3.8-slim

# Install MLflow and dependencies
RUN pip install --no-cache-dir mlflow==2.3.0

# Create a directory for MLflow artifacts
RUN mkdir -p /mlflow/mlruns

# Set the working directory
WORKDIR /mlflow

# Expose the port for MLflow server
EXPOSE 5000

# Start the MLflow server
CMD ["mlflow", "server", "--backend-store-uri", "file:/mlflow/mlruns", "--default-artifact-root", "/mlflow/mlruns", "--host", "0.0.0.0"]
